# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–ø—É—Å–∫–∞ Vitest —Ç–µ—Å—Ç–æ–≤ –≤ IntelliJ IDEA

## –ü—Ä–æ–±–ª–µ–º–∞

–í –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å pnpm workspace –µ—Å—Ç—å 3 –ø–∞–∫–µ—Ç–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏ Vitest:
- `frontend/packages/frontend` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç jsdom –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- `frontend/packages/shared` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç node –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- `frontend/packages/telegram-bot` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç node –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

IDEA –Ω–µ –º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ –∏–∑ –∫–∞–∫–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç—ã.

## –†–µ—à–µ–Ω–∏–µ

–°–æ–∑–¥–∞–Ω—ã —Ç—Ä–∏ –≥–æ—Ç–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∑–∞–ø—É—Å–∫–∞ (run configurations) –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `.idea/runConfigurations/`:

1. **Vitest - Frontend** - –¥–ª—è —Ç–µ—Å—Ç–æ–≤ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
2. **Vitest - Shared** - –¥–ª—è shared –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
3. **Vitest - Telegram Bot** - –¥–ª—è —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–∞

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ IntelliJ IDEA
2. –í –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –≤ –≤—ã–ø–∞–¥–∞—é—â–µ–º –º–µ–Ω—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∑–∞–ø—É—Å–∫–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ:
   - "Vitest - Frontend"
   - "Vitest - Shared"
   - "Vitest - Telegram Bot"
3. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ –Ω–∞–∂–º–∏—Ç–µ Run (‚ñ∂Ô∏è) –∏–ª–∏ Debug (üêõ)

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª —Å —Ç–µ—Å—Ç–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, `frontend/packages/frontend/test/EditProfileDialog.test.tsx`)
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∑–µ–ª—ë–Ω—É—é —Å—Ç—Ä–µ–ª–∫—É —Ä—è–¥–æ–º —Å `describe` –∏–ª–∏ `test`
3. IDEA –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è —ç—Ç–æ–≥–æ –ø–∞–∫–µ—Ç–∞

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—Ä—É—á–Ω—É—é

–ï—Å–ª–∏ –≥–æ—Ç–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ –ø–æ–¥—Ö–≤–∞—Ç–∏–ª–∏—Å—å:

1. Run ‚Üí Edit Configurations
2. –ù–∞–∂–º–∏—Ç–µ "+" ‚Üí Vitest
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞–∫–µ—Ç–∞:
   - **Name**: Vitest - Frontend (–∏–ª–∏ –¥—Ä—É–≥–æ–π –ø–∞–∫–µ—Ç)
   - **Configuration file**: –≤—ã–±–µ—Ä–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π `vitest.config.ts`
   - **Working directory**: –≤—ã–±–µ—Ä–∏—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø–∞–∫–µ—Ç–∞
   - **Package manager**: pnpm
   - **Vitest package**: `frontend/node_modules/vitest`

## –ü–æ—á–µ–º—É npx vitest —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞ IDEA - –Ω–µ—Ç?

–ö–æ–≥–¥–∞ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ `npx vitest run --reporter=verbose` –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞, –≤—ã —É–∂–µ –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–∞–∫–µ—Ç–∞.

IDEA –∂–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –∏–∑ –∫–æ—Ä–Ω—è –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (`/home/user/PhotoBank`), —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø—Ä–æ–±–ª–µ–º–∞–º:
- –ù–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `vitest.config.ts`
- –ù–µ —Ä–µ–∑–æ–ª–≤—è—Ç—Å—è path aliases (`@/*`, `@photobank/shared/*`)
- –ù–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è —Ñ–∞–π–ª—ã `test-setup.ts`
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (jsdom vs node)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

```
PhotoBank/
‚îú‚îÄ‚îÄ .idea/
‚îÇ   ‚îú‚îÄ‚îÄ runConfigurations/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Vitest___Frontend.xml
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Vitest___Shared.xml
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Vitest___Telegram_Bot.xml
‚îÇ   ‚îî‚îÄ‚îÄ VITEST_SETUP.md (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
‚îî‚îÄ‚îÄ frontend/
    ‚îî‚îÄ‚îÄ packages/
        ‚îú‚îÄ‚îÄ frontend/
        ‚îÇ   ‚îî‚îÄ‚îÄ vitest.config.ts
        ‚îú‚îÄ‚îÄ shared/
        ‚îÇ   ‚îî‚îÄ‚îÄ vitest.config.ts
        ‚îî‚îÄ‚îÄ telegram-bot/
            ‚îî‚îÄ‚îÄ vitest.config.ts
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ IDEA

### TypeScript Language Service

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ IDEA –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

1. Settings ‚Üí Languages & Frameworks ‚Üí TypeScript
2. –î–ª—è –ø–∞–∫–µ—Ç–∞ frontend –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è `tsconfig.app.json`
3. –î–ª—è shared –∏ telegram-bot - `tsconfig.json`

### Node.js Interpreter

1. Settings ‚Üí Languages & Frameworks ‚Üí Node.js
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä Node.js
3. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è Node 18+ –∏–ª–∏ 20+

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ:

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é "Vitest - Frontend"
2. –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª `frontend/packages/frontend/test/EditProfileDialog.test.tsx`
3. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∑–µ–ª—ë–Ω—É—é —Å—Ç—Ä–µ–ª–∫—É —Ä—è–¥–æ–º —Å —Ç–µ—Å—Ç–æ–º

–ï—Å–ª–∏ –≤—Å—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è —É—Å–ø–µ—à–Ω–æ.

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### BOT_TOKEN –¥–ª—è telegram-bot

–í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ "Vitest - Telegram Bot" —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `BOT_TOKEN=test-token`. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ - –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.

### Path Aliases

IDEA –¥–æ–ª–∂–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∑–æ–ª–≤–∏—Ç—å –∞–ª–∏–∞—Å—ã:
- `@/*` ‚Üí `src/*`
- `@photobank/shared` ‚Üí `../shared/src`

–ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å —Ä–µ–∑–æ–ª–≤–∏–Ω–≥–æ–º - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ Settings ‚Üí Editor ‚Üí Code Style ‚Üí TypeScript ‚Üí Path mappings.
